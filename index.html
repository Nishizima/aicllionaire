<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Who Whants to be a Millionaire</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section class="mv">
      <img src="logo.png" alt="who wants to be a millionaire" id="main-logo" />
    </section>

    <section class="step">
      <div class="question">
        <p class="question-text" data-number="1.">
          テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト
        </p>
      </div>

      <ul class="answer-box">
        <li class="answer" data-letter="A.">
          テキストテキストテキストテキストテキストテキストテキ
        </li>
        <li class="answer" data-letter="B.">テキスト</li>
        <li class="answer" data-letter="C.">テキスト</li>
        <li class="answer" data-letter="D.">テキスト</li>
      </ul>
    </section>

    <section class="step">
      <div class="question">
        <p class="question-text" data-number="2.">testando o testo aqui</p>
      </div>

      <ul class="answer-box">
        <li class="answer" onclick="nextQuestion()" data-letter="A.">
          resposta
        </li>
        <li class="answer" onclick="nextQuestion()" data-letter="B.">
          resposta
        </li>
        <li class="answer" onclick="nextQuestion()" data-letter="C.">
          resposta
        </li>
        <li class="answer" onclick="nextQuestion()" data-letter="D.">
          resposta
        </li>
      </ul>
    </section>
  </body>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"
  ></script>
  <script>
    TweenMax.to("#main-logo", 1.5, {
      scale: 1.1,
      repeat: -1,
      yoyo: true,
      ease: Power0.easeNone,
    });

    var questions = $(".step");

    nquestion = 0;

    var timelines = [];

    questions.each(function (index, elem) {
      var tl = gsap.timeline({ paused: true });

      tl.to($(elem), {
        opacity: 1,
        duration: 1,
        onComplete: () => {
          $(this).addClass("step_selected");
        },
        ease: "power2.out",
      });

      tl.fromTo(
        $(elem).find(".question"),
        { opacity: 0 },
        { opacity: 1, duration: 1 }
      );

      tl.fromTo(
        $(elem).find(".answer"),
        { opacity: 0 },
        {
          opacity: 1,
          duration: 0.5,
          stagger: 0.5,
          ease: "power2.out",
        },
        "-=0.5"
      );

      timelines.push(tl);
    });

    $("#main-logo").click(function () {
      $(this).parent().addClass("mv_little");
      $("body").addClass("body_darker");

      timelines[nquestion].play();
    });

    $(".answer").click(function () {
      $(".step").removeClass("step_selected");
      gsap.to(questions[nquestion++], { opacity: 0, duration: 1 });

      timelines[nquestion].play();
    });
  </script>
</html>
